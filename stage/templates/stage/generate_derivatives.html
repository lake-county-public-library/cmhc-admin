<!DOCTYPE html>
<html>

<head>
{% include "stage/common.html" %}

<script>
function loadDoc() {
  
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
     document.getElementById("log").innerHTML = xhttp.responseText;
    }
  };
  xhttp.open("GET", "{% url 'stage:derivative_logs' status.id %}", true);
  xhttp.send();
}

window.onload = function() {
  loadDoc();
}
</script>
</head>

<body>
<h1>Generating Derivatives - {{ status.id }}</h1>

{% if msg %}
<ul>{{ msg }}</ul>
{% endif %}

<h2>Derivative status</h2>
<ul>
  <div id="log">
  </div>
<p/>
<button type="button" onclick="loadDoc()">Refresh</button>
</ul>

{% include "stage/footer_workflow.html" %}
</body>
</html>
